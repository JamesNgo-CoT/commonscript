"use strict";var DataCollection=Backbone.Collection.extend({syncNeedsLogin:!1,fetchAll:!1,fetchParameters:{$count:!1},model:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return new(Function.prototype.bind.apply(DataModel,[null].concat(e)))},totalRecords:null,fetch:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.totalRecords=null;var r=$.extend({},_.result(this,"fetchParameters"),_.result(e,"fetchParameters")),o=_.result(e,"fetchAll",_.result(this,"fetchAll",!1));o&&(r.$count=!0,r.$skip=0,r.$top=1);var l=queryObjectToString(r);return e.url=[_.result(this,"url"),l].join("?"),Backbone.Collection.prototype.fetch.call(this,e).then(function(){if(o&&1<t.totalRecords&&!0===r.$count&&null!=t.totalRecords)return t.fetch($.extend(e,{fetchParameters:$.extend(_.result(e,"fetchParameters"),{$skip:0,$top:t.totalRecords})}))})},parse:function(t,e){return t&&!Array.isArray(t)&&(t["@odata.count"]&&(this.totalRecords=t["@odata.count"]),!Array.isArray(t)&&t.hasOwnProperty("value")&&(t=t.value)),Backbone.Collection.prototype.parse.call(this,t,e)}});
//# sourceMappingURL=data_collection.min.js.map
