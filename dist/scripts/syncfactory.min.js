"use strict";function syncFactory(e,a){var l=this;return function r(o,s){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,c=$.Deferred();return Promise.resolve().then(function(){if(_.result(s,"syncNeedsLogin"))return a?a.requireLogin({originatingElement:i.$originatingElement}):Promise.reject()}).then(function(){_.result(s,"syncNeedsLogin")&&(i.beforeSend=function(e){e.setRequestHeader("Authorization","AuthSession "+a.sid)}),i.contentType=i.contentType||"application/json",e.call(l,o,s,i).then(c.resolve,function(e,n,t){500<=e.status&&e.status<=599?t="Server side error. Please contact your administrator.":400===e.status&&!e.responseJSON&&e.responseText&&-1!==e.responseText.indexOf("Session id")&&-1!==e.responseText.indexOf("is invalid")?1===u?a.showLogin({onHidden:function(){a.checkLogin(i).then(function(){r.call(l,o,s,i,u+1)},function(){a.sid&&a.logout()})},originatingElement:i.$originatingElement}):t="Login Required":e.responseJSON&&e.responseJSON.error&&e.responseJSON.error.message?t=e.responseJSON.error.message:e.responseText&&(t=e.responseText),c.reject(e,n,t)})},function(){c.reject(null,null,"Login Required")}),c}}
//# sourceMappingURL=syncfactory.min.js.map
